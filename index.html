<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VAZapp</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body{font-family:Arial,sans-serif;transition:.3s}
.dark{background:#111827;color:#fff}
.dark .bg-white{background:#1f2933!important;color:#fff}
@keyframes auraGlow{0%,100%{text-shadow:0 0 5px #0ff,0 0 15px #0ff}50%{text-shadow:0 0 25px #0ff,0 0 40px #0ff}}
.logo-animation{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;background:#000;z-index:9999;font-size:3rem;font-weight:bold;transition:1s}
.logo-animation .highlight{color:#0ff;animation:auraGlow 1.5s infinite}
.logo-animation .app{color:#fff;font-weight:900}
</style>
</head>
<body id="body" class="bg-gray-100 min-h-screen flex flex-col">

<!-- Splash -->
<div id="logoAnimation" class="logo-animation">
<span><span class="highlight">VAZ</span><span class="app">app</span></span>
</div>

<!-- Header -->
<header class="bg-blue-600 text-white p-4 flex justify-between">
<h1 class="font-bold text-xl">VAZapp</h1>
<div class="space-x-2">
<button onclick="showChat()" class="bg-blue-500 px-3 py-1 rounded">Chat</button>
<button onclick="showStories()" class="bg-blue-500 px-3 py-1 rounded">Stories</button>
<button onclick="showProfile()" class="bg-blue-500 px-3 py-1 rounded">Profile</button>
<button onclick="toggleDark()" class="bg-gray-800 px-3 py-1 rounded">üåô</button>
</div>
</header>

<main class="flex-1 p-4 flex justify-center items-start">

<!-- Chat -->
<div id="chatPage" class="bg-white w-full max-w-xl p-4 rounded shadow flex flex-col">
<div class="flex items-center gap-2 mb-2">
<img id="chatAvatar" class="w-8 h-8 rounded-full" src="https://via.placeholder.com/40">
<span id="chatName" class="font-bold">Guest</span>
</div>
<div id="chat" class="flex-1 border p-2 rounded mb-2 overflow-y-auto"></div>
<div class="flex gap-2">
<input id="userInput" class="flex-1 border p-2 rounded text-black dark:text-white bg-white dark:bg-gray-700" placeholder="Type...">
<button onclick="sendMessage()" class="bg-blue-600 text-white px-3 rounded">Send</button>
</div>
</div>

<!-- Stories -->
<div id="storiesPage" class="hidden bg-white w-full max-w-2xl p-4 rounded shadow">
<h2 class="text-xl font-bold mb-2">üì∏ Stories</h2>
<input type="file" accept="video/*" onchange="uploadStory(event)" class="mb-3">
<div id="storiesFeed" class="space-y-4"></div>
</div>

<!-- Profile -->
<div id="profilePage" class="hidden bg-white w-full max-w-md p-4 rounded shadow">
<h2 class="text-xl font-bold mb-3">Profile</h2>
<img id="profilePreview" class="w-24 h-24 rounded-full mx-auto mb-2" src="https://via.placeholder.com/120">
<input type="file" accept="image/*" onchange="loadImage(event)"><br><br>
<input id="usernameInput" class="border p-2 w-full mb-2" placeholder="Username">
<button onclick="saveProfile()" class="bg-blue-600 text-white w-full p-2 rounded">Save</button>
</div>

</main>

<footer class="bg-gray-200 p-2 text-center text-sm">¬©2026 VAZapp</footer>

<script>
// Splash
window.onload=()=>{setTimeout(()=>{logoAnimation.style.opacity=0;setTimeout(()=>logoAnimation.remove(),1000)},1500)}

// Pages
const chatPage=document.getElementById("chatPage");
const storiesPage=document.getElementById("storiesPage");
const profilePage=document.getElementById("profilePage");

function showChat(){chatPage.classList.remove("hidden");storiesPage.classList.add("hidden");profilePage.classList.add("hidden")}
function showStories(){storiesPage.classList.remove("hidden");chatPage.classList.add("hidden");profilePage.classList.add("hidden");renderStories()}
function showProfile(){profilePage.classList.remove("hidden");chatPage.classList.add("hidden");storiesPage.classList.add("hidden")}

// Dark
function toggleDark(){body.classList.toggle("dark");localStorage.vaz_dark=body.classList.contains("dark")}

// Profile
function loadImage(e){const r=new FileReader();r.onload=()=>profilePreview.src=r.result;r.readAsDataURL(e.target.files[0])}
function saveProfile(){localStorage.vaz_user=usernameInput.value||"Guest";localStorage.vaz_avatar=profilePreview.src;loadProfile();showChat()}
function loadProfile(){chatName.textContent=localStorage.vaz_user||"Guest";usernameInput.value=localStorage.vaz_user||"";if(localStorage.vaz_avatar){chatAvatar.src=localStorage.vaz_avatar;profilePreview.src=localStorage.vaz_avatar}}

// Chat
function addMsg(t,s){const d=document.createElement("div");d.className=s==="u"?"text-right text-blue-500":"text-left text-green-500";d.textContent=(s==="u"?"You: ":"vazAI: ")+t;chat.appendChild(d);chat.scrollTop=chat.scrollHeight}
function sendMessage(){const t=userInput.value.trim();if(!t)return;addMsg(t,"u");userInput.value="";setTimeout(()=>addMsg(ai(t),"a"),600)}
userInput.onkeydown=e=>{if(e.key==="Enter")sendMessage()}

function ai(m){m=m.toLowerCase();
if(/\d+[+\-*/]\d+/.test(m))return"Answer: "+eval(m);
if(m.startsWith("how"))return"Let‚Äôs solve this step by step. What part is confusing?";
if(m.startsWith("what")||m.startsWith("who"))return"Good question! Tell me more.";
if(m.includes("code"))return"Tell me what you‚Äôre building.";
if(m.includes("sad")||m.includes("stress"))return"I‚Äôm here for you. Want to talk?";
return"Tell me more so I can help better."}

// Stories
let stories=JSON.parse(localStorage.vaz_stories||"[]");
let likes=JSON.parse(localStorage.vaz_likes||"{}");
let comments=JSON.parse(localStorage.vaz_comments||"{}");
let follows=JSON.parse(localStorage.vaz_follows||"[]");

// Fake News/Sports Users (24h rotation)
const fakeUsers=[
  {user:"NHL",posts:[
    "Overtime thriller as underdogs win late tonight üèí",
    "Star player scores hat trick in huge matchup",
    "Playoff race heats up across the league"
  ]},
  {user:"NBC-News",posts:[
    "Breaking: Major storm impacts East Coast",
    "Global leaders meet for emergency summit",
    "Markets react to new tech regulations"
  ]},
  {user:"WorldUpdate",posts:[
    "Volcano activity monitored in Pacific region",
    "New medical breakthrough announced",
    "Historic peace talks continue"
  ]}
];

function generateFakeStories(){
  const last=localStorage.vaz_fake_time||0;
  const now=Date.now();

  if(now-last>86400000){ // 24 hours
    fakeUsers.forEach(f=>{
      const post=f.posts[Math.floor(Math.random()*f.posts.length)];
      stories.unshift({
        id:Date.now()+Math.random(),
        user:f.user,
        vid:"",
        text:post,
        fake:true
      });
    });
    localStorage.vaz_fake_time=now;
    saveStories();
  }
}

generateFakeStories();

function uploadStory(e){const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=()=>{stories.unshift({id:Date.now(),user:localStorage.vaz_user||"Guest",vid:r.result});saveStories();renderStories()};r.readAsDataURL(f)}

function saveStories(){localStorage.vaz_stories=JSON.stringify(stories);localStorage.vaz_likes=JSON.stringify(likes);localStorage.vaz_comments=JSON.stringify(comments);localStorage.vaz_follows=JSON.stringify(follows)}

function toggleFollow(u){follows.includes(u)?follows=follows.filter(x=>x!==u):follows.push(u);saveStories();renderStories()}

function likeStory(id){likes[id]=(likes[id]||0)+1;saveStories();renderStories()}

function addComment(id){const t=prompt("Comment:");if(!t)return;comments[id]=comments[id]||[];comments[id].push(t);saveStories();renderStories()}

function renderStories(){storiesFeed.innerHTML="";stories.forEach(s=>{
if(follows.length&&!follows.includes(s.user)&&s.user!==(localStorage.vaz_user||"Guest"))return;
const d=document.createElement("div");
d.className="border p-3 rounded";
const followed=follows.includes(s.user);

let content="";
if(s.fake){
  content=`<p class='mb-2 italic'>üì∞ ${s.text}</p>`;
}else{
  content=`<video src='${s.vid}' controls class='w-full rounded mb-1'></video>`;
}

d.innerHTML=`<div class='flex justify-between mb-1'><b>${s.user}</b><button onclick=\"toggleFollow('${s.user}')\" class='text-blue-600'>${followed?"Unfollow":"Follow"}</button></div>
${content}
<div class='flex gap-3 text-sm'>
<button onclick=\"likeStory(${s.id})\">‚ù§Ô∏è ${likes[s.id]||0}</button>
<button onclick=\"addComment(${s.id})\">üí¨ ${comments[s.id]?comments[s.id].length:0}</button>
</div>`;

storiesFeed.appendChild(d)})}

// Load
function init(){if(localStorage.vaz_dark==="true")body.classList.add("dark");loadProfile();addMsg("Hi! I'm vazAI ü§ñ","a")}
init();
</script>
</body>
</html>
