<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VAZapp</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      transition: background 0.3s, color 0.3s;
    }

    .dark {
      background: #111827;
      color: white;
    }

    .dark .bg-white {
      background: #1f2933 !important;
      color: white;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col" id="body">

  <!-- Header -->
  <header class="bg-blue-600 text-white p-4 shadow flex justify-between items-center">
    <h1 class="text-2xl font-bold">ðŸ¤– VAZapp</h1>
    <div class="space-x-2">
      <button onclick="showChat()" class="bg-blue-500 px-3 py-1 rounded">Chat</button>
      <button onclick="showProfile()" class="bg-blue-500 px-3 py-1 rounded">Profile</button>
      <button onclick="toggleDarkMode()" class="bg-gray-800 px-3 py-1 rounded">ðŸŒ™</button>
    </div>
  </header>

  <!-- Main -->
  <main class="flex-1 flex justify-center items-center p-4">

    <!-- CHAT PAGE -->
    <div id="chatPage" class="bg-white w-full max-w-2xl rounded-2xl shadow-lg p-6 flex flex-col">

      <div class="flex items-center gap-3 mb-3">
        <img id="chatAvatar" src="https://via.placeholder.com/40" class="w-10 h-10 rounded-full">
        <span id="chatName" class="font-bold">Guest</span>
      </div>

      <!-- Chat Area -->
      <div id="chat" class="flex-1 overflow-y-auto mb-4 space-y-2 p-2 border rounded"></div>

      <!-- Input -->
      <div class="flex gap-2">
        <input
          id="userInput"
          type="text"
          placeholder="Type your message..."
          class="flex-1 border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
          onclick="sendMessage()"
          class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
        >
          Send
        </button>
      </div>

    </div>

    <!-- PROFILE PAGE -->
    <div id="profilePage" class="hidden bg-white w-full max-w-xl rounded-2xl shadow-lg p-6">

      <h2 class="text-2xl font-bold mb-4 text-center">ðŸ‘¤ Your Profile</h2>

      <div class="flex flex-col items-center gap-4">

        <img id="profilePreview" src="https://via.placeholder.com/120" class="w-32 h-32 rounded-full border">

        <input
          type="file"
          accept="image/*"
          onchange="loadImage(event)"
          class="text-sm"
        />

        <input
          id="usernameInput"
          type="text"
          placeholder="Enter username"
          class="border rounded-lg p-2 w-full"
        />

        <button
          onclick="saveProfile()"
          class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 w-full"
        >
          Save Profile
        </button>

      </div>

    </div>

  </main>

  <!-- Footer -->
  <footer class="bg-gray-200 text-center p-2 text-sm">
    Â© 2026 VAZapp
  </footer>

  <!-- Script -->
  <script>

    /* Elements */
    const chat = document.getElementById("chat");
    const input = document.getElementById("userInput");
    const body = document.getElementById("body");

    const chatPage = document.getElementById("chatPage");
    const profilePage = document.getElementById("profilePage");

    const chatName = document.getElementById("chatName");
    const chatAvatar = document.getElementById("chatAvatar");

    const profilePreview = document.getElementById("profilePreview");
    const usernameInput = document.getElementById("usernameInput");


    /* Page Switching */
    function showChat() {
      chatPage.classList.remove("hidden");
      profilePage.classList.add("hidden");
    }

    function showProfile() {
      profilePage.classList.remove("hidden");
      chatPage.classList.add("hidden");
    }


    /* Dark Mode */
    function toggleDarkMode() {
      body.classList.toggle("dark");

      const isDark = body.classList.contains("dark");
      localStorage.setItem("vaz_dark", isDark);
    }


    /* Chat System */
    function addMessage(text, sender) {
      const div = document.createElement("div");

      div.className = sender === "user"
        ? "text-right text-blue-400"
        : "text-left text-green-400";

      div.innerText = (sender === "user" ? "You: " : "vazAI: ") + text;

      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;

      saveChat();
    }


    function sendMessage() {
      const text = input.value.trim();
      if (!text) return;

      addMessage(text, "user");
      input.value = "";

      setTimeout(() => {
        const reply = getAIResponse(text);
        addMessage(reply, "ai");
      }, 600);
    }


    input.addEventListener("keypress", function (e) {
      if (e.key === "Enter") sendMessage();
    });


    /* Smart vazAI (Offline) */
    function getAIResponse(message) {
      message = message.toLowerCase();

      if (message.includes("hi") || message.includes("hello"))
        return "Hey! I'm vazAI ðŸ˜Ž";

      if (message.includes("how are you"))
        return "I'm great! Ready to help you.";

      if (message.includes("code"))
        return "What are you building? I can help.";

      if (message.includes("school"))
        return "What subject are you working on?";

      if (message.includes("website"))
        return "VAZapp is getting better every day ðŸš€";

      if (message.includes("thank"))
        return "No problem! ðŸ˜Š";


      const smart = [
        "Tell me more about that.",
        "Why do you think that?",
        "That's interesting ðŸ¤”",
        "What do you want to do next?",
        "Can you explain that better?"
      ];

      return smart[Math.floor(Math.random() * smart.length)];
    }


    /* REAL AI (Optional Upgrade)
       You can connect OpenAI API here later */

    /*
    async function getRealAI(message) {
      const res = await fetch("YOUR_API_URL", {
        method: "POST",
        headers: {
          "Authorization": "Bearer YOUR_KEY",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ prompt: message })
      });

      const data = await res.json();
      return data.reply;
    }
    */


    /* Profile */
    function loadImage(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = () => profilePreview.src = reader.result;
      reader.readAsDataURL(file);
    }


    function saveProfile() {
      const username = usernameInput.value || "Guest";
      const avatar = profilePreview.src;

      localStorage.setItem("vaz_username", username);
      localStorage.setItem("vaz_avatar", avatar);

      loadProfile();
      showChat();

      alert("Profile Saved! âœ…");
    }


    function loadProfile() {
      const name = localStorage.getItem("vaz_username");
      const avatar = localStorage.getItem("vaz_avatar");

      if (name) {
        chatName.innerText = name;
        usernameInput.value = name;
      }

      if (avatar) {
        chatAvatar.src = avatar;
        profilePreview.src = avatar;
      }
    }


    /* Chat Memory */
    function saveChat() {
      localStorage.setItem("vaz_chat", chat.innerHTML);
    }


    function loadChat() {
      const saved = localStorage.getItem("vaz_chat");

      if (saved) chat.innerHTML = saved;
      else addMessage("Hi! I'm vazAI ðŸ¤–", "ai");
    }


    /* Load Settings */
    function loadSettings() {

      if (localStorage.getItem("vaz_dark") === "true") {
        body.classList.add("dark");
      }

      loadProfile();
      loadChat();
    }


    loadSettings();

  </script>

</body>
</html>
