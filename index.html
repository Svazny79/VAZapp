<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VAZapp</title>
<script src="https://cdn.tailwindcss.com"></script>

<link rel="manifest" id="manifestPlaceholder">
<meta name="theme-color" content="#000000">

<style>
body{font-family:Arial,sans-serif;transition:.3s}
.dark{background:#000;color:#fff}
.dark .bg-white{background:#111!important;color:#fff}

@keyframes auraGlow{
0%,100%{text-shadow:0 0 5px #0ff,0 0 15px #0ff}
50%{text-shadow:0 0 25px #0ff,0 0 40px #0ff}
}

.logo-animation{
position:fixed;inset:0;
display:flex;
justify-content:center;
align-items:center;
background:#000;
z-index:9999;
font-size:3rem;
font-weight:bold;
transition:all 1.2s ease;
}

.logo-animation.hide{opacity:0;transform:scale(1.2)}

.logo-animation .highlight{color:#0ff;animation:auraGlow 1.5s infinite}
.logo-animation .app{color:#fff;font-weight:900}

/* STORIES SHORTS STYLE */
#storiesFeed{
height:85vh;
overflow-y:scroll;
scroll-snap-type:y mandatory;
background:black;
padding:0;
}

.story{
height:85vh;
scroll-snap-align:start;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
border:none;
}

.story img,.story video{
max-height:70vh;
width:auto;
border-radius:12px;
}
</style>
</head>

<body id="body" class="bg-gray-100 min-h-screen flex flex-col">

<!-- Splash -->
<div id="logoAnimation" class="logo-animation">
<span><span class="highlight">VAZ</span><span class="app">app</span></span>
</div>

<header class="bg-blue-600 text-white p-4 flex justify-between">
<h1 class="font-bold text-xl">VAZapp</h1>
<div class="space-x-2">
<button onclick="showChat()" class="bg-blue-500 px-3 py-1 rounded">Chat</button>
<button onclick="showStories()" class="bg-blue-500 px-3 py-1 rounded">Stories</button>
<button onclick="showProfile()" class="bg-blue-500 px-3 py-1 rounded">Profile</button>
<button onclick="toggleDark()" class="bg-gray-800 px-3 py-1 rounded">üåô</button>
</div>
</header>

<main class="flex-1 p-0 flex justify-center items-start">

<!-- CHAT -->
<div id="chatPage" class="bg-white w-full max-w-xl p-4 rounded shadow flex flex-col">
<div class="flex items-center gap-2 mb-2">
<img id="chatAvatar" class="w-8 h-8 rounded-full" src="https://via.placeholder.com/40">
<span id="chatName" class="font-bold">Guest</span>
</div>
<div id="chat" class="flex-1 border p-2 rounded mb-2 overflow-y-auto"></div>
<div class="flex gap-2">
<input id="userInput" class="flex-1 border p-2 rounded" placeholder="Type...">
<button onclick="sendMessage()" class="bg-blue-600 text-white px-3 rounded">Send</button>
</div>
</div>

<!-- STORIES -->
<div id="storiesPage" class="hidden w-full">
<input type="file" accept="image/*,video/*" onchange="uploadStory(event)" class="m-2">
<div id="storiesFeed"></div>
</div>

<!-- PROFILE -->
<div id="profilePage" class="hidden bg-white w-full max-w-md p-4 rounded shadow">
<h2 class="text-xl font-bold mb-3">Profile</h2>
<img id="profilePreview" class="w-24 h-24 rounded-full mx-auto mb-2" src="https://via.placeholder.com/120">
<input type="file" accept="image/*" onchange="loadImage(event)"><br><br>
<input id="usernameInput" class="border p-2 w-full mb-2" placeholder="Username">
<button onclick="saveProfile()" class="bg-blue-600 text-white w-full p-2 rounded">Save</button>
</div>

</main>

<footer class="bg-gray-900 text-white p-2 text-center text-sm">¬©2026 VAZapp</footer>

<script>

/* SPLASH */
window.onload=()=>{
setTimeout(()=>{
logoAnimation.classList.add("hide");
setTimeout(()=>logoAnimation.remove(),1200);
},1600);
}

/* NAV */
const chatPage=chatPageEl=document.getElementById("chatPage");
const storiesPage=document.getElementById("storiesPage");
const profilePage=document.getElementById("profilePage");

function showChat(){chatPage.classList.remove("hidden");storiesPage.classList.add("hidden");profilePage.classList.add("hidden")}
function showStories(){storiesPage.classList.remove("hidden");chatPage.classList.add("hidden");profilePage.classList.add("hidden");renderStories()}
function showProfile(){profilePage.classList.remove("hidden");chatPage.classList.add("hidden");storiesPage.classList.add("hidden")}

/* DARK */
function toggleDark(){body.classList.toggle("dark");localStorage.vaz_dark=body.classList.contains("dark")}

/* PROFILE */
function loadImage(e){const r=new FileReader();r.onload=()=>profilePreview.src=r.result;r.readAsDataURL(e.target.files[0])}
function saveProfile(){localStorage.vaz_user=usernameInput.value||"Guest";localStorage.vaz_avatar=profilePreview.src;loadProfile();showChat()}
function loadProfile(){chatName.textContent=localStorage.vaz_user||"Guest";usernameInput.value=localStorage.vaz_user||"";if(localStorage.vaz_avatar){chatAvatar.src=localStorage.vaz_avatar;profilePreview.src=localStorage.vaz_avatar}}

/* CHAT */
function addMsg(t,s){const d=document.createElement("div");d.className=s==="u"?"text-right text-blue-500":"text-left text-green-500";d.textContent=(s==="u"?"You: ":"vazAI: ")+t;chat.appendChild(d);chat.scrollTop=chat.scrollHeight}

function sendMessage(){const t=userInput.value.trim();if(!t)return;addMsg(t,"u");userInput.value="";setTimeout(()=>addMsg(ai(t),"a"),600)}
userInput.onkeydown=e=>{if(e.key==="Enter")sendMessage()}

function ai(m){m=m.toLowerCase();
if(/\d+[+\-*/]\d+/.test(m))return "Answer: "+eval(m);
if(m.includes("code"))return "What are you building?";
if(m.includes("sad"))return "I'm here for you üíô";
if(m.startsWith("how"))return "Let's break it down step by step.";
return "Tell me more."}

/* STORIES DATA */
let stories=JSON.parse(localStorage.vaz_stories||"[]");
let likes=JSON.parse(localStorage.vaz_likes||"{}");
let follows=JSON.parse(localStorage.vaz_follows||"[]");

/* NHL + NEWS FAKE POSTS */
const fakeStories=[
{
user:"NHL",
text:"Connor McDavid scores 2 goals vs Flames",
src:"mcdavid.png",
type:"image"
},
{
user:"NHL",
text:"Maple Leafs win overtime vs Bruins",
src:"leafs.gif",
type:"image"
},
{
user:"NHL",
text:"Rangers clinch playoff spot at MSG",
src:"rangers.gif",
type:"image"
},
{
user:"NBC-News",
text:"Massive storm floods Miami streets",
src:"news.gif",
type:"image"
}
];

function loadFakeStories(){
if(!localStorage.vaz_fake_loaded){
fakeStories.forEach(s=>{
stories.unshift({
id:Date.now()+Math.random(),
user:s.user,
src:s.src,
mediaType:s.type,
text:s.text,
fake:true
});
});
localStorage.vaz_fake_loaded="true";
saveStories();
}
}

loadFakeStories();

/* UPLOAD */
function uploadStory(e){
const f=e.target.files[0];
if(!f)return;

const caption=prompt("Caption:")||"My Story";
const type=f.type.startsWith("image")?"image":"video";

const r=new FileReader();
r.onload=()=>{
stories.unshift({
id:Date.now(),
user:localStorage.vaz_user||"Guest",
src:r.result,
mediaType:type,
text:caption,
fake:false
});

saveStories();
renderStories();
};

r.readAsDataURL(f);
}

function saveStories(){
localStorage.vaz_stories=JSON.stringify(stories);
localStorage.vaz_likes=JSON.stringify(likes);
localStorage.vaz_follows=JSON.stringify(follows);
}

/* RENDER */
function renderStories(){
storiesFeed.innerHTML="";
stories.forEach((s,i)=>{

const d=document.createElement("div");
d.className="story";

let media="";

if(s.mediaType==="image"){
media=`<img src='${s.src}'>`;
}else{
media=`<video src='${s.src}' autoplay loop muted playsinline></video>`;
}

const canDelete=s.user===(localStorage.vaz_user||"Guest");


d.innerHTML=`
<div class='absolute top-2 left-2 text-white font-bold'>${s.user}</div>
<div class='absolute top-2 right-2 text-white text-sm'>${s.text}</div>
${media}
<div class='absolute bottom-4 flex gap-4 text-white'>
<button onclick='likeStory(${s.id})'>‚ù§Ô∏è ${likes[s.id]||0}</button>
${canDelete?`<button onclick='deleteStory(${i})'>üóë</button>`:""}
</div>`;

storiesFeed.appendChild(d);
});
}

function likeStory(id){likes[id]=(likes[id]||0)+1;saveStories();renderStories()}

function deleteStory(i){if(!confirm("Delete story?"))return;stories.splice(i,1);saveStories();renderStories()}

/* SWIPE SUPPORT */
let startY=0;
storiesFeed.addEventListener("touchstart",e=>{startY=e.touches[0].clientY});
storiesFeed.addEventListener("touchend",e=>{
const endY=e.changedTouches[0].clientY;
const diff=startY-endY;
if(Math.abs(diff)>50){
storiesFeed.scrollBy({top:diff>0?window.innerHeight:-window.innerHeight,behavior:"smooth"});
}
});

/* INIT */
function init(){
if(localStorage.vaz_dark==="true")body.classList.add("dark");
loadProfile();
addMsg("Hi! I'm vazAI ü§ñ","a");
}

init();

</script>
</body>
</html>
